(()=>{"use strict";class r{constructor(r){this.shipLength=r,this.hits=0,this.sunk=!1,this.coordinates={coord1:[1,3],coord2:[1,9]}}hit(){return this.hits+=1}isSunk(){if(this.shipLength===this.hits)return this.sunk=!0,this.sunk}}class s{constructor(){this.carrier=new r(6),this.battleship=new r(4),this.cruiser=new r(3),this.submarine=new r(3),this.destroyer=new r(2),this.testBoat=new r(6),this.misses=[],this.sunkCount=0,this.arrShip=[this.carrier,this.battleship,this.cruiser,this.submarine,this.destroyer,this.testBoat]}allShipsSunk(){return 5===this.sunkCount}receiveAttack(r){this.arrShip.forEach((s=>{const t=s.coordinates.coord1,i=s.coordinates.coord2;if(t[0]===i[0]&&r[0]===t[0]){if(r[1]>=t[1]&&r[1]<=i[1])return s.hit(),s.isSunk(),s.sunk&&(this.sunkCount+=1,this.allShipsSunk()),null}else if(t[1]===i[1]&&r[1]===t[1]&&r[0]>=t[0]&&r[0]<=i[0])return s.hit(),s.isSunk(),s.sunk&&(this.sunkCount+=1,this.allShipsSunk()),null})),this.misses.push(r)}}class t{constructor(r){this.playerBoard=new s,this.playerName=r}}class i extends t{constructor(r){super(r),this.yourTurn=!0}giveAttack(r){return this.yourTurn=!1,r}}class e extends t{constructor(r="Computer"){super(r),this.yourTurn=!1}randomAttack(){const r=this.playerBoard.misses,s=()=>Math.floor(10*Math.random());let t=s(),i=s();if(0===r.length)return this.yourTurn=!1,[t,i];for(let e=0;e<r.length;e++)r[e][0]===t&&r[e][1]===i&&(t=s(),i=s(),e--);return this.yourTurn=!1,[t,i]}}(()=>{const r=new i(prompt("What's your name?")),s=new e;let t,n=!1;for(;!n;)if(r.yourTurn?(t=r.giveAttack(JSON.parse(prompt("Enter Attack Coordinates"))),s.yourTurn=!0,s.playerBoard.arrShip.forEach((r=>{r.coordinates.coord1===t[0]&&r.coordinates.coord2===t[1]&&console.log("You hit a ship!")}))):s.yourTurn&&(t=s.randomAttack(),r.yourTurn=!0),s.yourTurn?s.playerBoard.receiveAttack(t):r.yourTurn&&r.playerBoard.receiveAttack(t),r.playerBoard.allShipsSunk()||s.playerBoard.allShipsSunk()){if(n=!0,s.playerBoard.allShipsSunk())return console.log("You've sunk all their ships!"),null;if(r.playerBoard.allShipsSunk())return console.log("All your ships have been sunk!"),null}})()})();